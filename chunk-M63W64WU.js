import{A as j,b as Fe,c as C,d as Re,e as Ae,f as He,g as $,i as Ge,j as je,k as ze,m as J,n as Be,o as Ne,p as Ze,q as Qe,r as qe,s as Ue,t as We,u as H,v as Ye,w as G,x as Ke,y as Xe,z as $e}from"./chunk-IKPN7BKN.js";import{$ as ne,Aa as pe,Ac as A,Cb as E,Da as l,Ea as a,Fa as h,Fc as Pe,Gb as be,Hb as Ce,Hc as Oe,Ia as ce,Ja as b,K as O,Ka as g,Kb as V,Kc as T,La as p,Lb as M,Lc as K,Ma as ue,Na as me,Nc as _,Oc as ke,P as w,Q as x,Qa as de,Qc as X,R as k,Ra as fe,Rc as Se,Sa as S,Sc as Le,Ta as L,Tc as De,Ua as D,Uc as Ee,Va as I,W as c,X as u,Yb as we,Zc as Ve,_c as Me,aa as Q,ac as xe,ca as oe,dc as Ie,eb as U,ec as W,gc as F,ha as re,hc as R,ia as m,ic as Y,ja as f,lb as he,na as ae,o as ie,pa as se,qb as ge,rb as P,sb as _e,ta as le,tc as Te,ua as d,va as q,wa as s,xb as ye,zb as ve}from"./chunk-JIIZSTJL.js";var rt=["*"],at=(i,o)=>({showTransitionParams:i,hideTransitionParams:o}),st=(i,o)=>({value:i,params:o});function lt(i,o){i&1&&ce(0)}function pt(i,o){i&1&&h(0,"TimesIcon",8),i&2&&s("styleClass","p-overlaypanel-close-icon")}function ct(i,o){}function ut(i,o){i&1&&d(0,ct,0,0,"ng-template")}function mt(i,o){if(i&1&&(l(0,"span",9),d(1,ut,1,0,null,3),a()),i&2){let e=p(3);m(),s("ngTemplateOutlet",e.closeIconTemplate)}}function dt(i,o){if(i&1){let e=b();l(0,"button",5),g("click",function(n){c(e);let r=p(2);return u(r.onCloseClick(n))})("keydown.enter",function(){c(e);let n=p(2);return u(n.hide())}),d(1,pt,1,1,"TimesIcon",6)(2,mt,2,1,"span",7),a()}if(i&2){let e=p(2);q("aria-label",e.ariaCloseLabel),m(),s("ngIf",!e.closeIconTemplate),m(),s("ngIf",e.closeIconTemplate)}}function ft(i,o){if(i&1){let e=b();l(0,"div",1),g("click",function(n){c(e);let r=p();return u(r.onOverlayClick(n))})("@animation.start",function(n){c(e);let r=p();return u(r.onAnimationStart(n))})("@animation.done",function(n){c(e);let r=p();return u(r.onAnimationEnd(n))}),l(1,"div",2),g("click",function(n){c(e);let r=p();return u(r.onContentClick(n))})("mousedown",function(n){c(e);let r=p();return u(r.onContentClick(n))}),me(2),d(3,lt,1,0,"ng-container",3),a(),d(4,dt,3,3,"button",4),a()}if(i&2){let e=p();pe(e.styleClass),s("ngClass","p-overlaypanel p-component")("ngStyle",e.style)("@animation",U(13,st,e.overlayVisible?"open":"close",U(10,at,e.showTransitionOptions,e.hideTransitionOptions))),q("aria-modal",e.overlayVisible)("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),m(3),s("ngTemplateOutlet",e.contentTemplate),m(),s("ngIf",e.showCloseIcon)}}var z=(()=>{class i{document;platformId;el;renderer;cd;zone;config;overlayService;ariaLabel;ariaLabelledBy;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new Q;onHide=new Q;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(e,t,n,r,y,te,N,Z){this.document=e,this.platformId=t,this.el=n,this.renderer=r,this.cd=y,this.zone=te,this.config=N,this.overlayService=Z}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}this.cd.markForCheck()})}bindDocumentClickListener(){if(M(this.platformId)&&!this.documentClickListener&&this.dismissable){let e=_.isIOS()?"touchstart":"click",t=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(t,e,n=>{!this.container?.contains(n.target)&&this.target!==n.target&&!this.target.contains(n.target)&&!this.selfClick&&this.hide(),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,t){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(e,t)&&(this.destroyCallback=()=>{this.show(null,t||e.currentTarget||e.target)}),this.hide()):this.show(e,t))}show(e,t){t&&e&&e.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=t||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(e){let t=e.target;this.selfClick=e.offsetX<t.clientWidth&&e.offsetY<t.clientHeight}hasTargetChanged(e,t){return this.target!=null&&this.target!==(t||e.currentTarget||e.target)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):_.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&A.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),_.absolutePosition(this.container,this.target,!1);let e=_.getOffset(this.container),t=_.getOffset(this.target),n=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius"),r=0;e.left<t.left&&(r=t.left-e.left-parseFloat(n)*2),this.container?.style.setProperty("--overlayArrowLeft",`${r}px`),e.top<t.top&&(_.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(e){e.toState==="open"&&(this.container=e.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=t=>{this.container&&this.container.contains(t.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&A.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1;break}this.isOverlayAnimationInProgress=!1}focus(){let e=_.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onEscapeKeydown(e){this.hide()}onWindowResize(){this.overlayVisible&&!_.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){if(M(this.platformId)&&!this.documentResizeListener){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){M(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new ke(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&A.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(f(ye),f(oe),f(ne),f(ae),f(ge),f(se),f(Oe),f(Pe))};static \u0275cmp=x({type:i,selectors:[["p-overlayPanel"]],contentQueries:function(t,n,r){if(t&1&&de(r,T,4),t&2){let y;S(y=L())&&(n.templates=y)}},hostAttrs:[1,"p-element"],hostBindings:function(t,n){t&1&&g("keydown.escape",function(y){return n.onEscapeKeydown(y)},!1,re)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dismissable:[w.HasDecoratorInputTransform,"dismissable","dismissable",P],showCloseIcon:[w.HasDecoratorInputTransform,"showCloseIcon","showCloseIcon",P],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[w.HasDecoratorInputTransform,"autoZIndex","autoZIndex",P],ariaCloseLabel:"ariaCloseLabel",baseZIndex:[w.HasDecoratorInputTransform,"baseZIndex","baseZIndex",_e],focusOnShow:[w.HasDecoratorInputTransform,"focusOnShow","focusOnShow",P],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},features:[le],ngContentSelectors:rt,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"click","ngClass","ngStyle"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(t,n){t&1&&(ue(),d(0,ft,5,16,"div",0)),t&2&&s("ngIf",n.render)},dependencies:()=>[ve,E,Ce,be,De,X],styles:[`@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}
`],encapsulation:2,data:{animation:[Ie("animation",[R("void",F({transform:"scaleY(0.8)",opacity:0})),R("close",F({opacity:0})),R("open",F({transform:"translateY(0)",opacity:1})),Y("void => open",W("{{showTransitionParams}}")),Y("open => close",W("{{hideTransitionParams}}"))])]},changeDetection:0})}return i})(),et=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=k({type:i});static \u0275inj=O({imports:[V,Ee,K,X,K]})}return i})();function yt(i,o){i&1&&(l(0,"h5",5),I(1,"\u0412\u0432\u0435\u0434\u0451\u043D\u043D\u0430\u044F \u043F\u043E\u0447\u0442\u0430 \u043D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u0430"),a())}var it=(()=>{let o=class o{onInput(t,n){this.control.hasError("email")?n.show(t):n.hide()}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=x({type:o,selectors:[["app-login-input"]],inputs:{control:"control"},decls:7,vars:1,consts:[["op",""],[1,"login-input"],[1,"pi","pi-user"],["type","text","placeholder","\u041B\u043E\u0433\u0438\u043D","pInputText","",3,"input","formControl"],["pTemplate","content"],[1,"login-input__error-text"]],template:function(n,r){if(n&1){let y=b();l(0,"p-inputGroup",1)(1,"p-inputGroupAddon"),h(2,"i",2),a(),l(3,"input",3),g("input",function(N){c(y);let Z=D(5);return u(r.onInput(N,Z))}),a(),l(4,"p-overlayPanel",null,0),d(6,yt,2,0,"ng-template",4),a()()}n&2&&(m(3),s("formControl",r.control))},dependencies:[Xe,H,T,G,Fe,Re,je,z],styles:[".login-input__error-text[_ngcontent-%COMP%]{margin:0;color:var(--red-500)}"]});let i=o;return i})();var bt=["submitErrorPanel"];function Ct(i,o){i&1&&(l(0,"h5",13),I(1," \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u0432\u0441\u0435 \u043F\u043E\u043B\u044F \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E "),a())}function wt(i,o){if(i&1){let e=b();l(0,"form",4)(1,"div",5)(2,"h2",6),I(3,"\u0412\u0445\u043E\u0434"),a(),h(4,"p-divider"),a(),h(5,"app-login-input",7),l(6,"p-inputGroup",8)(7,"p-inputGroupAddon"),h(8,"i",9),a(),h(9,"app-password-input",10),a(),l(10,"p-button",11),g("mouseleave",function(){c(e);let n=p();return u(n.onSubmitButtonMouseOut())})("click",function(n){c(e);let r=p();return u(r.onSubmit(n))}),I(11,"\u0412\u043E\u0438\u0306\u0442\u0438"),a(),l(12,"p-overlayPanel",null,1),d(14,Ct,2,0,"ng-template",12),a()()}if(i&2){let e=p();s("formGroup",e.formGroup),m(5),s("control",e.formGroup.controls.login),m(4),s("control",e.formGroup.controls.password),m(),s("raised",e.formGroup.valid)}}function xt(i,o){i&1&&h(0,"p-progressSpinner",14)}var v,B=(v=class{constructor(o,e){this.store=o,this.router=e,this.formGroup=new He({login:new $("",{nonNullable:!0,validators:[C.maxLength(150),C.required,C.email]}),password:new $("",{nonNullable:!0,validators:[C.minLength(8),C.maxLength(150),C.required,We()]})}),this.isLoading=!1}onSubmit(o){if(this.formGroup.invalid){this.formGroup.markAllAsTouched(),this.submitErrorPanel.show(o);return}let e=this.formGroup.getRawValue();this.isLoading=!0,this.store.dispatch(new Se(e.login,e.password)).pipe(Ue(this)).subscribe(()=>{this.isLoading=!1,this.router.navigate([Le.Home])})}onSubmitButtonMouseOut(){this.submitErrorPanel.hide()}},v.\u0275fac=function(e){return new(e||v)(f(Te),f(we))},v.\u0275cmp=x({type:v,selectors:[["app-login-page"]],viewQuery:function(e,t){if(e&1&&fe(bt,5),e&2){let n;S(n=L())&&(t.submitErrorPanel=n.first)}},decls:4,vars:2,consts:[["loader",""],["submitErrorPanel",""],[1,"login-page"],["class","login-page__form",3,"formGroup",4,"ngIf","ngIfElse"],[1,"login-page__form",3,"formGroup"],[1,"login-page__heading-wrapper"],[1,"login-page__heading"],[1,"login-page__login-input",3,"control"],[1,"login-page__password-input"],[1,"pi","pi-lock"],[3,"control"],["severity","submit",1,"login-page__submit-button","p-button-wrapper_center-text","p-button-wrapper_full-width",3,"mouseleave","click","raised"],["pTemplate","content"],[1,"login-page__error-text"],["ariaLabel","loading"]],template:function(e,t){if(e&1&&(l(0,"div",2),d(1,wt,15,4,"form",3),a(),d(2,xt,1,0,"ng-template",null,0,he)),e&2){let n=D(3);m(),s("ngIf",!t.isLoading)("ngIfElse",n)}},dependencies:[E,H,T,G,Ge,Ae,ze,Be,Ve,z,Ze,j,it],styles:[".login-page[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;justify-content:center;align-items:center;flex-direction:row;gap:0px}.login-page__form[_ngcontent-%COMP%]{padding:30px 20px;display:flex;justify-content:center;align-items:center;flex-direction:column;gap:30px;background-color:var(--surface-0);width:clamp(300px,60%,600px);box-shadow:#959da533 0 8px 24px;border-radius:25px;border:2px solid var(--primary-500)}.login-page__heading-wrapper[_ngcontent-%COMP%]{width:100%}.login-page__heading[_ngcontent-%COMP%]{text-align:center}.login-page__password-input[_ngcontent-%COMP%], .login-page__login-input[_ngcontent-%COMP%]{width:100%}.login-page__error-text[_ngcontent-%COMP%]{color:var(--red-500)}.login-page__submit-button[_ngcontent-%COMP%]{width:70%;text-align:center;cursor:pointer;transition:scale ease-in-out .3s}.login-page__submit-button[_ngcontent-%COMP%]:hover{scale:1.05}"],changeDetection:0}),v);B=ie([qe()],B);var nt=[{path:"",component:B}];var bi=(()=>{let o=class o{};o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=k({type:o}),o.\u0275inj=O({imports:[V,$e,Ye,Ke,J,Ne,Me,et,Qe,j,J,xe.forChild(nt)]});let i=o;return i})();export{bi as AuthModule};
